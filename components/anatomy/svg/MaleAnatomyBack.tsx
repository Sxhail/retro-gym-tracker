import React from 'react';
import { G, Path, Svg } from 'react-native-svg';
import theme from '../../../styles/theme';
import type { MuscleId, TrainingLevel } from '../muscles';

interface Props {
  muscleStates: Partial<Record<MuscleId, TrainingLevel>>;
  onMusclePress?: (muscleId: MuscleId) => void;
  getMuscleStyle: (muscleId: MuscleId) => { fill: string; opacity: number; stroke?: string; strokeWidth?: number };
}

export default function MaleAnatomyBack({ muscleStates, onMusclePress, getMuscleStyle }: Props) {
  return (
    <Svg viewBox="0 0 136 300" style={{ width: '100%', height: '100%' }}>
      <G transform="translate(0,300) scale(0.1,-0.1)">
        
        {/* Main body outline - visible from back */}
        <Path 
          d="M581 2724 c-57 -24 -74 -51 -69 -111 3 -29 1 -53 -4 -53 -13 0 -9 -64 5 -85 44 -65 55 -225 16 -225 -23 0 -24 13 -4 30 8 7 15 28 15 46 l0 34 -37 -15 c-21 -9 -60 -29 -86 -45 -27 -17 -58 -30 -70 -30 -11 0 -40 -9 -64 -21 -54 -26 -86 -82 -88 -156 -1 -28 -9 -62 -17 -75 -21 -32 -28 -57 -29 -108 -1 -25 -8 -58 -17 -74 -8 -16 -23 -66 -34 -110 -16 -70 -18 -104 -13 -261 3 -99 8 -193 11 -209 9 -41 44 -76 85 -82 28 -5 38 -1 61 23 26 27 26 29 13 80 -16 59 -28 84 -49 103 -25 20 -19 77 19 159 25 56 36 98 41 152 4 54 13 84 31 112 13 21 28 50 34 65 l11 27 14 -35 c8 -19 23 -43 32 -53 13 -15 17 -39 17 -113 0 -93 0 -93 35 -131 67 -72 83 -98 26 -41 -33 33 -59 52 -61 45 -27 -73 -35 -104 -35 -132 0 -17 -12 -65 -26 -106 -38 -107 -44 -254 -15 -366 26 -100 26 -134 1 -247 -27 -120 -25 -196 6 -335 34 -150 35 -205 6 -253 -39 -63 -93 -98 -175 -113 l-72 -13 91 -1 c76 -1 93 2 98 15 4 12 2 15 -9 10 -26 -9 -17 0 39 44 30 23 53 47 50 54 -2 6 7 22 21 34 14 12 25 33 25 46 0 45 -13 116 -20 111 -10 -6 -29 117 -37 232 -7 115 8 124 26 16 32 -194 43 -249 66 -312 29 -80 29 -82 11 -75 -8 3 -17 15 -19 27 -4 21 -4 21 -6 -1 0 -13 8 -42 19 -64 22 -46 26 -78 10 -78 -6 0 -9 10 -8 22 2 13 -1 25 -7 28 -6 3 -13 -15 -16 -39 -3 -26 -13 -49 -24 -57 -17 -13 -18 -14 -1 -14 9 0 33 12 53 27 32 24 34 30 29 62 -4 20 -9 88 -12 151 -5 105 -3 121 20 189 15 42 26 97 26 125 0 75 -12 156 -21 150 -5 -2 3 19 16 48 30 66 48 168 43 247 -1 34 0 61 5 61 4 0 7 -17 8 -37 0 -36 2 -34 26 32 13 39 28 98 32 132 7 58 6 61 -12 51 -31 -16 -41 3 -30 61 10 52 -4 110 -39 160 -14 20 -14 26 6 61 20 37 23 39 55 34 23 -5 32 -3 27 4 -3 6 -2 13 4 17 5 3 10 -1 10 -9 0 -12 10 -16 35 -16 25 0 35 -4 35 -15 0 -9 7 -26 15 -38 13 -21 13 -26 -10 -60 -35 -51 -38 -79 -22 -179 11 -68 11 -85 1 -81 -7 2 -18 18 -24 34 -7 16 -17 29 -23 29 -16 0 -1 -87 30 -180 l28 -84 5 39 c4 26 8 -1 11 -75 4 -95 10 -125 31 -170 19 -44 23 -61 15 -80 -5 -14 -10 -63 -10 -110 -1 -69 4 -102 27 -173 24 -75 28 -97 22 -150 -13 -120 -15 -201 -4 -214 8 -10 2 -17 -23 -28 l-34 -14 68 -1 c65 0 67 1 57 20 -6 11 -15 20 -21 20 -5 0 -7 11 -3 24 3 15 -1 29 -12 41 -13 13 -15 21 -7 34 13 21 27 81 19 81 -4 0 -11 -12 -17 -27 -23 -58 -19 -2 5 69 25 74 69 297 69 351 0 15 4 27 8 27 5 0 9 -37 9 -82 0 -103 -20 -244 -32 -226 -6 9 -8 5 -7 -12 1 -14 -2 -33 -6 -43 -12 -28 1 -109 19 -123 9 -6 19 -22 21 -35 5 -23 25 -51 25 -34 0 5 13 -4 30 -20 16 -15 27 -32 24 -36 -3 -5 3 -6 12 -2 12 4 15 3 10 -5 -11 -18 -27 -15 -55 11 l-24 22 19 -27 c12 -18 28 -27 45 -28 44 0 41 24 -8 65 -91 76 -99 119 -58 295 37 159 40 219 16 327 -27 117 -26 189 0 300 27 113 22 211 -20 347 -17 54 -31 111 -31 125 0 15 -7 48 -16 74 l-16 47 -50 -56 c-28 -30 -53 -52 -56 -49 -3 3 19 30 49 61 l54 55 5 105 c3 65 10 108 17 112 7 4 20 26 29 47 l17 40 14 -35 c8 -19 24 -48 35 -63 15 -21 23 -54 28 -111 6 -63 15 -96 40 -142 17 -34 34 -80 37 -103 5 -36 2 -46 -21 -70 -15 -15 -33 -52 -41 -85 -14 -53 -14 -59 2 -81 24 -32 46 -39 86 -25 64 22 71 44 79 255 8 203 -1 284 -42 385 -10 25 -21 68 -23 96 -2 29 -14 70 -25 93 -12 23 -22 60 -22 84 0 52 -29 117 -64 144 -15 12 -45 25 -68 28 -23 4 -60 19 -81 32 -22 14 -59 33 -83 43 -41 18 -44 22 -44 56 0 21 -3 34 -7 31 -11 -12 -3 -110 12 -141 19 -37 19 -36 -9 -36 -19 0 -22 4 -18 25 7 37 -12 30 -32 -11 l-17 -36 23 5 c13 3 54 9 91 13 71 7 102 24 45 24 -39 0 -73 21 -81 50 -3 11 -3 20 -1 20 13 0 126 -63 141 -78 19 -20 67 -37 57 -21 -7 12 10 11 40 -3 38 -17 57 -53 62 -116 l5 -57 -19 53 c-11 29 -25 59 -31 65 -9 9 -10 7 -5 -8 7 -18 6 -19 -11 -5 -17 14 -18 14 -6 -9 10 -17 15 -20 21 -11 5 8 8 3 7 -13 -1 -15 -3 -27 -5 -27 -2 0 -14 12 -28 28 l-25 27 21 -39 c12 -21 19 -40 17 -43 -3 -2 -27 21 -53 51 -27 31 -54 56 -60 56 -6 0 -19 9 -28 19 -13 15 -14 20 -4 24 19 8 -114 -5 -137 -13 -11 -4 6 -7 43 -8 63 0 91 -11 140 -55 31 -28 28 -41 -5 -20 -15 10 -24 13 -20 6 5 -8 -5 -10 -35 -7 l-43 4 40 -13 c98 -33 107 -56 22 -59 l-52 -1 49 -6 c38 -5 46 -8 35 -17 -26 -20 -85 -43 -127 -50 -36 -6 -47 -3 -77 20 l-35 27 0 -26 c0 -39 40 -72 96 -80 98 -13 97 -24 -3 -35 -56 -6 -70 -5 -80 8 -11 14 -13 12 -13 -9 0 -24 5 -26 63 -35 52 -7 62 -12 62 -29 0 -13 -12 -24 -38 -33 -36 -14 -38 -14 -62 12 l-25 27 0 -35 c0 -44 12 -51 78 -47 28 1 52 -1 52 -7 0 -18 -49 -62 -70 -62 -11 0 -29 9 -40 20 l-20 20 0 -39 c0 -22 5 -41 13 -44 17 -6 80 4 95 16 21 17 14 -27 -9 -57 -19 -25 -23 -26 -37 -13 -12 12 -19 13 -33 4 -15 -9 -21 -8 -33 8 -14 18 -15 18 -16 3 0 -21 -20 -24 -38 -6 -9 9 -12 9 -12 0 0 -19 -42 2 -51 26 -11 28 0 33 46 21 33 -9 41 -8 52 7 15 21 17 70 3 79 -5 3 -10 -3 -10 -13 0 -24 -19 -33 -52 -25 -33 8 -48 22 -48 45 0 17 5 18 43 13 53 -8 77 10 77 58 l0 32 -23 -29 c-20 -25 -27 -27 -56 -21 -31 7 -57 41 -42 57 3 4 31 11 61 15 49 7 55 11 58 33 2 21 1 23 -10 10 -17 -20 -95 -23 -133 -6 l-30 13 30 7 c107 25 124 30 120 34 -2 3 2 14 10 26 26 37 15 91 -12 61 -10 -11 -10 -14 0 -18 23 -8 -1 -18 -54 -24 -39 -3 -68 0 -103 14 -65 24 -70 41 -14 46 42 3 42 4 -9 5 -85 3 -75 27 22 58 34 11 36 13 13 13 -14 1 -34 4 -44 8 -13 5 -15 3 -9 -7 5 -9 4 -11 -3 -6 -6 4 -22 2 -34 -5 l-23 -12 20 23 c34 38 76 63 129 76 42 10 45 12 20 13 -17 1 -53 3 -80 6 -39 4 -44 3 -25 -5 19 -8 21 -13 11 -25 -7 -8 -18 -15 -25 -15 -8 0 -36 -26 -64 -57 -30 -34 -51 -51 -51 -42 0 9 9 28 20 42 29 36 25 48 -5 12 -27 -34 -33 -19 -9 23 11 19 12 22 1 10 -8 -10 -17 -18 -20 -18 -4 0 -4 8 -2 18 3 9 -4 -1 -15 -23 -11 -22 -20 -49 -20 -59 0 -14 -3 -17 -11 -9 -7 7 -7 23 2 54 7 24 12 47 11 51 -3 13 60 58 81 58 18 0 19 -2 7 -10 -20 -13 -10 -12 29 1 17 6 31 14 31 19 0 4 32 24 70 44 63 33 70 35 70 18 0 -29 -32 -52 -74 -52 -63 0 -30 -18 46 -25 40 -4 82 -12 92 -17 16 -9 18 -8 11 8 -4 11 -10 28 -12 39 -5 20 -5 20 10 0 8 -11 17 -30 21 -42 4 -13 12 -23 17 -23 5 0 27 39 49 86 43 93 45 98 31 90 -5 -3 -3 11 5 32 17 47 18 75 2 69 -8 -2 -12 -16 -10 -36 3 -29 1 -32 -20 -29 -17 2 -22 9 -21 26 3 19 0 21 -16 13 -25 -14 -30 -7 -25 45 l4 44 -37 1 c-30 0 -34 2 -18 9 19 8 19 9 -2 9 -24 1 -27 -5 -24 -53 1 -16 -3 -32 -9 -36 -9 -6 -4 -36 16 -84 5 -13 4 -17 -3 -13 -33 21 -41 236 -8 223 7 -2 21 1 31 8 11 7 41 14 68 15 26 1 52 4 57 7 18 11 53 -108 44 -154 -6 -33 -5 -35 9 -22 19 19 33 100 17 100 -7 0 -9 15 -5 44 5 36 2 50 -15 74 -40 57 -113 75 -180 46z"
          fill="none" 
          stroke={theme.colors.neon}
          strokeWidth={1}
          opacity={1}
        />

        {/* Anatomically correct back muscle regions */}
        
        {/* Upper Traps - Neck and upper shoulder area */}
        <Path
          d="M500 2400 c-60 -30 -100 -60 -100 -90 0 -30 40 -60 100 -90 60 -30 120 -30 180 0 60 30 100 60 100 90 0 30 -40 60 -100 90 -60 30 -120 30 -180 0z"
          {...getMuscleStyle('upperTraps')}
          onPress={() => onMusclePress?.('upperTraps')}
        />
        
        {/* Left Rear Delt */}
        <Path
          d="M300 2200 c-50 -25 -80 -50 -80 -75 0 -25 30 -50 80 -75 50 -25 90 -25 120 0 30 25 50 50 50 75 0 25 -20 50 -50 75 -30 25 -70 25 -120 0z"
          {...getMuscleStyle('rearDelts')}
          onPress={() => onMusclePress?.('rearDelts')}
        />
        
        {/* Right Rear Delt */}
        <Path
          d="M900 2200 c50 -25 80 -50 80 -75 0 -25 -30 -50 -80 -75 -50 -25 -90 -25 -120 0 -30 25 -50 50 -50 75 0 25 20 50 50 75 30 25 70 25 120 0z"
          {...getMuscleStyle('rearDelts')}
          onPress={() => onMusclePress?.('rearDelts')}
        />
        
        {/* Left Tricep */}
        <Path
          d="M280 2000 c-40 -20 -60 -40 -60 -65 0 -25 20 -45 60 -65 40 -20 70 -20 90 0 20 20 30 40 30 65 0 25 -10 45 -30 65 -20 20 -50 20 -90 0z"
          {...getMuscleStyle('triceps')}
          onPress={() => onMusclePress?.('triceps')}
        />
        
        {/* Right Tricep */}
        <Path
          d="M920 2000 c40 -20 60 -40 60 -65 0 -25 -20 -45 -60 -65 -40 -20 -70 -20 -90 0 -20 20 -30 40 -30 65 0 25 10 45 30 65 20 20 50 20 90 0z"
          {...getMuscleStyle('triceps')}
          onPress={() => onMusclePress?.('triceps')}
        />
        
        {/* Mid Traps - Middle back */}
        <Path
          d="M520 2100 c-50 -25 -80 -50 -80 -75 0 -25 30 -50 80 -75 50 -25 80 -25 120 0 40 25 60 50 60 75 0 25 -20 50 -60 75 -40 25 -70 25 -120 0z"
          {...getMuscleStyle('midTraps')}
          onPress={() => onMusclePress?.('midTraps')}
        />
        
        {/* Rhomboids - Between shoulder blades */}
        <Path
          d="M540 2000 c-40 -20 -60 -40 -60 -65 0 -25 20 -45 60 -65 40 -20 60 -20 80 0 20 20 30 40 30 65 0 25 -10 45 -30 65 -20 20 -40 20 -80 0z"
          {...getMuscleStyle('rhomboids')}
          onPress={() => onMusclePress?.('rhomboids')}
        />
        
        {/* Left Lat */}
        <Path
          d="M400 1900 c-60 -30 -100 -60 -100 -90 0 -30 40 -60 100 -90 60 -30 90 -30 120 0 30 30 50 60 50 90 0 30 -20 60 -50 90 -30 30 -60 30 -120 0z"
          {...getMuscleStyle('lats')}
          onPress={() => onMusclePress?.('lats')}
        />
        
        {/* Right Lat */}
        <Path
          d="M800 1900 c60 -30 100 -60 100 -90 0 -30 -40 -60 -100 -90 -60 -30 -90 -30 -120 0 -30 30 -50 60 -50 90 0 30 20 60 50 90 30 30 60 30 120 0z"
          {...getMuscleStyle('lats')}
          onPress={() => onMusclePress?.('lats')}
        />
        
        {/* Lower Traps */}
        <Path
          d="M560 1800 c-40 -20 -60 -40 -60 -65 0 -25 20 -45 60 -65 40 -20 60 -20 80 0 20 20 30 40 30 65 0 25 -10 45 -30 65 -20 20 -40 20 -80 0z"
          {...getMuscleStyle('lowerTraps')}
          onPress={() => onMusclePress?.('lowerTraps')}
        />
        
        {/* Lower Back - Erector spinae */}
        <Path
          d="M540 1700 c-50 -25 -80 -50 -80 -75 0 -25 30 -50 80 -75 50 -25 80 -25 120 0 40 25 60 50 60 75 0 25 -20 50 -60 75 -40 25 -70 25 -120 0z"
          {...getMuscleStyle('lowerBack')}
          onPress={() => onMusclePress?.('lowerBack')}
        />
        
        {/* Glutes */}
        <Path
          d="M520 1500 c-60 -30 -100 -60 -100 -90 0 -30 40 -60 100 -90 60 -30 120 -30 180 0 60 30 100 60 100 90 0 30 -40 60 -100 90 -60 30 -120 30 -180 0z"
          {...getMuscleStyle('glutes')}
          onPress={() => onMusclePress?.('glutes')}
        />
        
        {/* Left Hamstring */}
        <Path
          d="M450 1300 c-50 -25 -80 -50 -80 -75 0 -25 30 -50 80 -75 50 -25 80 -25 100 0 20 25 30 50 30 75 0 25 -10 50 -30 75 -20 25 -50 25 -100 0z"
          {...getMuscleStyle('hamstrings')}
          onPress={() => onMusclePress?.('hamstrings')}
        />
        
        {/* Right Hamstring */}
        <Path
          d="M750 1300 c50 -25 80 -50 80 -75 0 -25 -30 -50 -80 -75 -50 -25 -80 -25 -100 0 -20 25 -30 50 -30 75 0 25 10 50 30 75 20 25 50 25 100 0z"
          {...getMuscleStyle('hamstrings')}
          onPress={() => onMusclePress?.('hamstrings')}
        />
        
        {/* Left Calf */}
        <Path
          d="M460 1000 c-30 -15 -50 -35 -50 -55 0 -20 20 -40 50 -55 30 -15 50 -15 70 0 20 15 30 35 30 55 0 20 -10 40 -30 55 -20 15 -40 15 -70 0z"
          {...getMuscleStyle('calves')}
          onPress={() => onMusclePress?.('calves')}
        />
        
        {/* Right Calf */}
        <Path
          d="M740 1000 c30 -15 50 -35 50 -55 0 -20 -20 -40 -50 -55 -30 -15 -50 -15 -70 0 -20 15 -30 35 -30 55 0 20 10 40 30 55 20 15 40 15 70 0z"
          {...getMuscleStyle('calves')}
          onPress={() => onMusclePress?.('calves')}
        />

      </G>
    </Svg>
  );
}
